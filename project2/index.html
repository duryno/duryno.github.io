<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Interactive Data Exploration | Project 2</title>

    <link rel="stylesheet" type="text/css" href="style.css">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700,300" rel="stylesheet">

    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script src="js/radial_plot.js"></script>
</head>
<body>
    <h2>Introduction</h2>
    <section id="introduction" class="purple description">
        <div class="intro-container">
            <p>In our group we have worked with two different types of visualisations based on the temperature data from NASA.</p>
            <p>
                The first part, unlike the latter one, shows a visualisation not directly related to climate change. Here we explore
                other parts of the d3-code and use of the radial scale for the cyclic nature of the months.
            </p>
            <p>
                The second part deals with the focus area of "climate change", as described in the project scope. This visualization
                is made from the ground using the d3-book as a very handy guide. We have both worked with the javascript code.
                During the work we faced some challenges with the organization of the dataset used in d3. Therefore we have 3
                illustrations that illustrate how we work with this part.
            </p>
        </div>
    </section>

    <h2>Temperature Visualisations</h2>
    <section>
        <h3>Average Temperature by Month | Copenhagen (1880 - 2017)</h3>
        <svg id="radial-plot" width="600" height="400"></svg>
        <div class="detail-container">
            <span>Average Temperature</span>
            <div id="avg-temp">- | -</div>
        </div>
    </section>
    <section class="description blue">
        <h3>Description of 'Average Temperature by Month' Chart</h3>
        <p>
            This chart displays the average temperature measured for each month of the year in Copenhagen, Denmark
            between 1880 and 2017. A radial bar chart has been chosen to display these data as this type of chart is
            suitable for representing repetitive time series such as time of the day or, as in this case, months of the year.
        </p>
        <p>
            This way, it is obvious from the chart that the temperatures drop in winter months and continuously rise during
            spring months until they reach the maximum values in July and August. Similarly, the temperature values drop
            again during the autumn. While these findings are rather obvious since we are studying a topic as familiar as
            temperatures, the radial chart still makes it easy to observe the periodicity of the data as well as compare
            temperatures for months that lie opposite to each other in the chart, which would be more difficult had we
            used a standard bar plot, for instance.
        </p>
        <p>
            It is true that is might be difficult to see the exact value of the temperature for any particular month in
            the chart, which is why some interactivity has been implemented. By simply pointing the mouse to a specific
            bar in the chart, the average temperature for the corresponding month will be displayed in the element below the chart itself.
        </p>
        <p>
            Something that is worth mentioning is the fact that the original dataset contains missing values denoted as
            the value ‘999.9’. These values have been simply ignored when calculating the averages, which should not have
            a significant impact on the accuracy of the presented data as the number of missing values was fairly low.
        </p>
    </section>

    <section class="description cyan">
        <h3>Description of Temperature Change Sketch & Chart</h3>
        <p>
            The temperature data come from National Aeronautics and Space Administration, Goddard Institute for Space Studies using the following link:
            <a href="https://data.giss.nasa.gov/gistemp/station_data/">https://data.giss.nasa.gov/gistemp/station_data/</a>
            The visualisations are based on the data from the station Aalborg in the northern Jutland, Denmark. Data give the monthly average temperature in degrees Celcius.
        </p>
        <p>
            The d3-encoded visualisation of temperature change is not yet ready for publication. Therefore, we include three different images.
            The first one (on the right-hand side) is a png-file made in R. Here we show a sketch of what we want to encode in d3. There is a grey
            path line that illustrates how average monthly temperature changes during the months. This path line is a
            quick presentation of how much the month average changes over the months and years. It is not meant to illustrate
            the specific data, as they are placed very close to each other along the x-axis and far away from each other
            along the y-axis (the aspect ratio is too steep for a detailed interpretation).
        </p>
        <p>
            The coloured lines are the linear regressions of the points from each month. The point is clear. Almost all
            of the regression lines have a positive slope. Even though we have made no statistical tests the visualisation
            itself illustrates that temperature have risen over the years. It is also clear, that the rise is a generel
            phenomenon that applies to all seasons. Aspect ratio should be set so it is easy to see, that the lines have a positive slope
        </p>

    </section>

    <section id="r-plot">
        <h3>Linear Regression Sketch Created in R | Aalborg (1949 - 2017)</h3>
        <img src="Rplot.png"/>
    </section>

    <section id="temperature-change">
        <h3>Monthly temperature change | Aalborg (1949 - 2017)</h3>

    </section>

    <section class="description teal">
        <h3>Description of 'Monthly temperature change' Chart</h3>
        <p>
            The plot on the left-hand side is made in d3. Here, the dataset was reorganised in R prior to the import to d3. All data
            points were now placed in one column and time ordered. That made it possible to make a path through all
            the points as we can see in the R-plot below. The x-scale is a time-date scale.
        </p>
        <br/>
        <h3>Organisation of the Dataset</h3>
        <p>
            The organisation of dataset prior to d3-plotting is a very important issue, that we would like to address and
            learn more about during the rest of the course. It sets a lot of limits for the visualizing process later.
            Maybe it is just a matter of time before we learn how to manage that initial step in javascript.
        </p>
    </section>

    <section class="description green">
        <h3>Description of 'Distribution of Average Temperatures by Month' Chart</h3>
        <p>
            The illustration on the right-hand side is also made in d3. Here, all the monthly data are included and coloured according to which
            month they represent. The original dataset is used here, and month and year is shown as two different channels, x-position and colour.
        </p>
    </section>

    <section id="scatter-plot">
        <h3>Distribution of Average Temperatures by Month | Aalborg (1949 - 2017)</h3>
    </section>

    <div style="clear: both;"></div>

    <h2>Individual Part</h2>
    <section class="description light-green">
        <h3>Question 2 - Kamma Westergaard</h3>
        <p>
            The R-plot is a sketch of the basic view to which some interactive features could be added. I think that by
            clicking the regression lines the points that connects to the line could be highlighted, and the regression
            formula and confidence limits could be shown. The visualisation immediately shows, that temperatures have risen,
            and that applies for all seasons (overview). The interactivity can be used to tell exactly how much
            (including some statistics) and more details about the single regressions made (details and numbers).
        </p>
    </section>
    <section class="description lime">
        <h3>Question 3 - Juraj Orszag</h3>
        <p>
            The maximum size of a dataset that is reasonable to load in d3 depends largely on the way the data from this
            dataset are meant to be used. For instance, if every value in the dataset should be represented as an individual
            point in the resulting visualization, the maximum acceptable size is significantly smaller than if a number of values are combined to form a single element.
        </p>
        <p>
            Based on some experiments and a quick research of this topic
            [<a href="https://stackoverflow.com/questions/21960378/maximum-data-file-size-for-d3-js">https://stackoverflow.com/questions/21960378/maximum-data-file-size-for-d3-js</a>,
            <a href="https://stackoverflow.com/questions/18244995/d3-how-to-show-large-dataset">https://stackoverflow.com/questions/18244995/d3-how-to-show-large-dataset]</a> ,
            it is essentially always the rendering of the visual elements in the browser that is the bottleneck.
            Combined with the limited space on a screen, a dataset containing hundreds of thousands of values could
            already be considered an extreme case.
        </p>
        <p>
            However, the size of large datasets can usually be shrunk by aggregation or sampling of data. In such scenarios
            multiple elements are either combined and shown as one or only a representative sample of data is used instead of the entire dataset.
        </p>
        <p>
            These methods can be used to render, for example, heatmaps or treemaps that are commonly based on large datasets.
        </p>
        <p>
            If we take the first chart displayed above as an example, it is clear that we could have reduced the size of the dataset used to generate it by removing unused attributes (e.g. quarterly and annual averages) and even calculating the monthly averages in advance. This would have made the rendering of the chart significantly easier and faster. On the other hand, it would have hindered the possibility to observe essentially any other information from the given dataset.
        </p>
    </section>


</body>
</html>